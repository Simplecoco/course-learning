(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["exam-resource-detail"],{"16b5":function(t,e,a){"use strict";var s=a("4343"),o=a.n(s);o.a},"355d":function(t,e){e.f={}.propertyIsEnumerable},4343:function(t,e,a){},"454f":function(t,e,a){a("46a7");var s=a("584a").Object;t.exports=function(t,e,a){return s.defineProperty(t,e,a)}},"46a7":function(t,e,a){var s=a("63b6");s(s.S+s.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},5176:function(t,e,a){t.exports=a("51b6")},"51b6":function(t,e,a){a("a3c3"),t.exports=a("584a").Object.assign},"76c7":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-exam-resource-detail content-container"},[a("Card",{staticClass:"exam-detail-card",attrs:{"dis-hover":""}},[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(this.examTitle))]),a("p",{staticClass:"exam-detail-title",attrs:{slot:"extra"},on:{click:t.backToExam},slot:"extra"},[a("Icon",{attrs:{type:"md-arrow-back",size:"20"}}),t._v(" \n        返回测验列表\n    ")],1),a("div",{staticClass:"upload-button-container"},[a("Button",{style:{marginRight:"20px",float:"left"},attrs:{icon:"md-add"},on:{click:function(e){t.uploadModal=!0}}},[t._v("\n        快速添加\n      ")]),a("Select",{staticStyle:{width:"500px"},attrs:{transfer:"",placement:"bottom",placeholder:"请从题库中搜索添加(可多选)",multiple:"",filterable:"",remote:"","remote-method":t.remoteMethod,loading:t.selectLoading},on:{"on-open-change":t.selectOpenChange},model:{value:t.selectedArr,callback:function(e){t.selectedArr=e},expression:"selectedArr"}},t._l(t.options2,function(e,s){return a("Option",{key:s,attrs:{value:e.value}},[t._v("\n          "+t._s(e.label)+"\n        ")])}),1),a("Button",{style:{marginLeft:"20px"},attrs:{type:"primary",disabled:0===this.selectedArr.length,icon:"md-add"},nativeOn:{click:function(e){return t.submitSearchResult(e)}}},[t._v("\n        确认添加\n      ")])],1),a("Table",{attrs:{stripe:"",columns:t.questionsColumn,data:t.questionsData},scopedSlots:t._u([{key:"action",fn:function(e){e.row;var s=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(s)}}},[t._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.remove(s)}}},[t._v("删除")])]}}])})],1),a("Modal",{attrs:{value:t.uploadModal,title:"添加题目",closable:!1,"mask-closable":!1}},[a("Form",{ref:"uploadForm",attrs:{model:t.uploadForm.data,rules:t.uploadForm.rule,"label-width":80}},[a("FormItem",{attrs:{label:"题目",prop:"name"}},[a("Input",{attrs:{placeholder:"Enter your name"},model:{value:t.uploadForm.data.name,callback:function(e){t.$set(t.uploadForm.data,"name",e)},expression:"uploadForm.data.name"}})],1),a("FormItem",{attrs:{label:"类型",prop:"type"}},[a("RadioGroup",{model:{value:t.uploadForm.data.type,callback:function(e){t.$set(t.uploadForm.data,"type",e)},expression:"uploadForm.data.type"}},[a("Radio",{attrs:{label:"single"}},[t._v("single")]),a("Radio",{attrs:{label:"multiple"}},[t._v("multiple")]),a("Radio",{attrs:{label:"essay"}},[t._v("essay")])],1)],1),t._l(t.uploadForm.data.items,function(e,s){return e.status?a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"single"===t.uploadForm.data.type||"multiple"===t.uploadForm.data.type,expression:"uploadForm.data.type === 'single' || uploadForm.data.type === 'multiple'"}],key:s,attrs:{label:"选项 "+e.index,prop:"items."+s+".value",rules:{required:!0,message:"Item "+e.index+" can not be empty",trigger:"blur"}}},[a("Row",[a("Col",{attrs:{span:"18"}},[a("Input",{attrs:{type:"text",placeholder:"Enter something..."},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("Button",{on:{click:function(e){t.handleRemove(s)}}},[t._v("Delete")])],1)],1)],1):t._e()}),a("FormItem",{directives:[{name:"show",rawName:"v-show",value:"single"===t.uploadForm.data.type||"multiple"===t.uploadForm.data.type,expression:"uploadForm.data.type === 'single' || uploadForm.data.type === 'multiple'"}]},[a("Row",[a("Col",{attrs:{span:"12"}},[a("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:t.handleAdd}},[t._v("Add item")])],1)],1)],1),a("FormItem",{attrs:{label:"描述",prop:"desc"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:t.uploadForm.data.desc,callback:function(e){t.$set(t.uploadForm.data,"desc",e)},expression:"uploadForm.data.desc"}})],1)],2),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"default"},on:{click:t.cancelModal}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.asyncOK("uploadForm")}}},[t._v("确定")])],1)],2)],1)},o=[],n=(a("7f7f"),a("5176")),i=a.n(n),r=a("bd86"),l={data:function(){var t;return{eid:"",examTitle:"",selectedArr:[],selectLoading:!1,options2:[],list:["Alabama","Alaska","Arizona","Arkansas","California","Colorado","Connecticut","Delaware","Florida","Georgia","Hawaii","Idaho","Illinois","Indiana","Iowa","Kansas","Kentucky","Louisiana","Maine","Maryland","Massachusetts","Michigan","Minnesota","Mississippi","Missouri","Montana","Nebraska","Nevada","New hampshire","New jersey","New mexico","New york","North carolina","North dakota","Ohio","Oklahoma","Oregon","Pennsylvania","Rhode island","South carolina","South dakota","Tennessee","Texas","Utah","Vermont","Virginia","Washington","West virginia","Wisconsin","Wyoming"],uploadModal:!1,questionsColumn:[{title:"序号",key:"id"},{title:"题目",key:"title"},{title:"类型",key:"type"},{title:"Action",slot:"action",width:170,align:"center"}],questionsData:[{id:1,type:"single",title:"ssssss1111",options:[{text:"Apple"},{text:"Android"},{text:"Windows"}],status:!1,answer:0},{id:2,type:"multiple",title:"ssssss2222",options:[{text:"Apple2"},{text:"Android2"},{text:"Windows2"}],status:!1,answer:[]},{id:3,type:"essay",title:"ssssss3333",status:!1,answer:""},{id:4,type:"essay",title:"ssssss",status:!1,answer:""},{id:5,type:"essay",title:"ssssss",status:!1,answer:""},{id:6,type:"essay",title:"ssssss",status:!1,answer:""},{id:7,type:"essay",title:"ssssss",status:!1,answer:""},{id:8,type:"essay",title:"ssssss",status:!1,answer:""},{id:9,type:"essay",title:"ssssss",status:!1,answer:""}],uploadForm:{data:{name:"",type:"",desc:"",index:1,items:[{value:"",index:1,status:1}]},rule:(t={name:[{required:!0,message:"题目不能为空",trigger:"blur"}]},Object(r["a"])(t,"name",[{required:!0,message:"类型不能为空",trigger:"blur"}]),Object(r["a"])(t,"desc",[{required:!0,message:"Please enter a personal introduction",trigger:"blur"},{type:"string",min:6,message:"Introduce no less than 6 words",trigger:"blur"}]),t)}}},mounted:function(){this.$route.params.eid&&this.$route.params.examTitle?(this.eid=this.$route.params.eid,this.examTitle=this.$route.params.examTitle,this.nowId=1):this.$router.push({name:"exam-resource"})},methods:{backToExam:function(){this.$router.push({name:"exam-resource"})},remoteMethod:function(t){var e=this;""!==t?(this.selectLoading=!0,setTimeout(function(){e.selectLoading=!1;var a=e.list.map(function(t){return{value:t,label:t}});e.options2=a.filter(function(e){return e.label.toLowerCase().indexOf(t.toLowerCase())>-1})},200)):this.options2=[]},selectOpenChange:function(t){t||0===this.selectedArr.length||this.submitSearchResult()},submitSearchResult:function(){var t=this;console.log("submitSearchResult"),console.log(this.selectedArr),this.selectedArr.forEach(function(e,a){console.log(t.questionsData),t.questionsData.push({id:t.questionsData.length+1,type:"essay",title:e,status:!1,answer:""})}),this.selectedArr=[]},remove:function(t){this.questionsData.splice(t,1)},edit:function(t){console.log(this.questionsData[t].type),this.uploadModal=!0;var e="single"===this.questionsData[t].type||"multiple"===this.questionsData[t].type?this.questionsData[t].options.map(function(t,e){return{value:t.text,index:e+1,status:1}}):[];this.uploadForm.data=i()({},this.uploadForm.data,{name:this.questionsData[t].title,desc:this.questionsData[t].desc,type:this.questionsData[t].type,index:1,items:e})},cancelModal:function(){this.uploadForm.data={name:"",type:"",desc:"",index:1,items:[{value:"",index:1,status:1}]},this.uploadModal=!1},handleAdd:function(){this.uploadForm.data.index++,this.uploadForm.data.items.push({value:"",index:this.uploadForm.data.index,status:1})},handleRemove:function(t){this.uploadForm.data.items[t].status=0},asyncOK:function(t){var e=this;this.$refs[t].validate(function(t){t?(console.log(e.uploadForm.data),e.$Message.success("Success!"),e.uploadModal=!1,e.uploadForm.data=i()({},e.uploadForm.data,{name:"",desc:"",type:"",index:1,items:[{value:"",index:1,status:1}]})):(console.log("fail"),e.$Message.error("Fail!"))})}}},u=l,d=(a("16b5"),a("2877")),c=Object(d["a"])(u,s,o,!1,null,"1a719ac6",null);c.options.__file="ExamResourceDetail.vue";e["default"]=c.exports},"7f7f":function(t,e,a){var s=a("86cc").f,o=Function.prototype,n=/^\s*function ([^ (]*)/,i="name";i in o||a("9e1e")&&s(o,i,{configurable:!0,get:function(){try{return(""+this).match(n)[1]}catch(t){return""}}})},"85f2":function(t,e,a){t.exports=a("454f")},9306:function(t,e,a){"use strict";var s=a("c3a1"),o=a("9aa9"),n=a("355d"),i=a("241e"),r=a("335c"),l=Object.assign;t.exports=!l||a("294c")(function(){var t={},e={},a=Symbol(),s="abcdefghijklmnopqrst";return t[a]=7,s.split("").forEach(function(t){e[t]=t}),7!=l({},t)[a]||Object.keys(l({},e)).join("")!=s})?function(t,e){var a=i(t),l=arguments.length,u=1,d=o.f,c=n.f;while(l>u){var p,m=r(arguments[u++]),h=d?s(m).concat(d(m)):s(m),f=h.length,y=0;while(f>y)c.call(m,p=h[y++])&&(a[p]=m[p])}return a}:l},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a3c3:function(t,e,a){var s=a("63b6");s(s.S+s.F,"Object",{assign:a("9306")})},bd86:function(t,e,a){"use strict";a.d(e,"a",function(){return n});var s=a("85f2"),o=a.n(s);function n(t,e,a){return e in t?o()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}}}]);
//# sourceMappingURL=exam-resource-detail.6007b21e.js.map