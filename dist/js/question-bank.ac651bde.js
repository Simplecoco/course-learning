(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["question-bank"],{"0a0f":function(t,e,a){"use strict";var o=a("33ac"),n=a.n(o);n.a},"0a15":function(t,e,a){},"33ac":function(t,e,a){},"355d":function(t,e){e.f={}.propertyIsEnumerable},"454f":function(t,e,a){a("46a7");var o=a("584a").Object;t.exports=function(t,e,a){return o.defineProperty(t,e,a)}},"46a7":function(t,e,a){var o=a("63b6");o(o.S+o.F*!a("8e60"),"Object",{defineProperty:a("d9f6").f})},5176:function(t,e,a){t.exports=a("51b6")},"51b6":function(t,e,a){a("a3c3"),t.exports=a("584a").Object.assign},"6f20":function(t,e,a){"use strict";var o=a("0a15"),n=a.n(o);n.a},"7f7f":function(t,e,a){var o=a("86cc").f,n=Function.prototype,s=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&o(n,i,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})},"85f2":function(t,e,a){t.exports=a("454f")},9306:function(t,e,a){"use strict";var o=a("c3a1"),n=a("9aa9"),s=a("355d"),i=a("241e"),r=a("335c"),l=Object.assign;t.exports=!l||a("294c")(function(){var t={},e={},a=Symbol(),o="abcdefghijklmnopqrst";return t[a]=7,o.split("").forEach(function(t){e[t]=t}),7!=l({},t)[a]||Object.keys(l({},e)).join("")!=o})?function(t,e){var a=i(t),l=arguments.length,u=1,d=n.f,c=s.f;while(l>u){var p,m=r(arguments[u++]),f=d?o(m).concat(d(m)):o(m),y=f.length,v=0;while(y>v)c.call(m,p=f[v++])&&(a[p]=m[p])}return a}:l},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},a3c3:function(t,e,a){var o=a("63b6");o(o.S+o.F,"Object",{assign:a("9306")})},bd86:function(t,e,a){"use strict";a.d(e,"a",function(){return s});var o=a("85f2"),n=a.n(o);function s(t,e,a){return e in t?n()(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}},e1d2:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"admin-question-bank content-container"},[a("Card",{attrs:{"dis-hover":""}},[a("p",{staticClass:"container-card-title",attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"md-albums",size:"20"}}),t._v(" 题库管理")],1),a("div",{staticClass:"upload-button-container"},[a("Button",{style:{marginRight:"20px"},attrs:{size:"large",icon:"md-cloud-upload",type:"primary"},on:{click:function(e){t.uploadModal=!0,t.uploadForm.action="create"}}},[t._v("\n        添加题目\n      ")])],1),a("div",{staticClass:"admin-question-bank-table"},[a("Table",{attrs:{columns:t.questionsColumn,data:t.questionsData,stripe:"",size:"small"},scopedSlots:t._u([{key:"name",fn:function(e){var o=e.row;return[a("strong",[t._v(t._s(o.name))])]}},{key:"action",fn:function(e){e.row;var o=e.index;return[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"primary",size:"small"},on:{click:function(e){t.edit(o)}}},[t._v("编辑")]),a("Button",{attrs:{type:"error",size:"small"},on:{click:function(e){t.remove(o)}}},[t._v("删除")])]}}])})],1)]),a("Modal",{attrs:{value:t.uploadModal,title:"添加题目",closable:!1,"mask-closable":!1}},[a("Form",{ref:"uploadForm",attrs:{model:t.uploadForm.data,rules:t.uploadForm.rule,"label-width":80}},[a("FormItem",{attrs:{label:"题目",prop:"name"}},[a("Input",{attrs:{placeholder:"Enter your name"},model:{value:t.uploadForm.data.name,callback:function(e){t.$set(t.uploadForm.data,"name",e)},expression:"uploadForm.data.name"}})],1),a("FormItem",{attrs:{label:"类型",prop:"type"}},[a("RadioGroup",{model:{value:t.uploadForm.data.type,callback:function(e){t.$set(t.uploadForm.data,"type",e)},expression:"uploadForm.data.type"}},[a("Radio",{attrs:{label:"single"}},[t._v("single")]),a("Radio",{attrs:{label:"multiple"}},[t._v("multiple")]),a("Radio",{attrs:{label:"essay"}},[t._v("essay")])],1)],1),t._l(t.uploadForm.data.items,function(e,o){return!e.status||"single"!==t.uploadForm.data.type&&"multiple"!==t.uploadForm.data.type?t._e():a("FormItem",{key:o,attrs:{label:"选项 "+e.index,prop:"items."+o+".value",rules:{required:!0,message:"Item "+e.index+" can not be empty",trigger:"blur"}}},[a("Row",[a("Col",{attrs:{span:"18"}},[a("Input",{attrs:{type:"text",placeholder:"Enter something..."},model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"item.value"}})],1),a("Col",{attrs:{span:"4",offset:"1"}},[a("Button",{on:{click:function(e){t.handleRemove(o)}}},[t._v("Delete")])],1)],1)],1)}),"single"===t.uploadForm.data.type||"multiple"===t.uploadForm.data.type?a("FormItem",[a("Row",[a("Col",{attrs:{span:"12"}},[a("Button",{attrs:{type:"dashed",long:"",icon:"md-add"},on:{click:t.handleAdd}},[t._v("Add item")])],1)],1)],1):t._e(),a("FormItem",{attrs:{label:"描述",prop:"desc"}},[a("Input",{attrs:{type:"textarea",autosize:{minRows:2,maxRows:5},placeholder:"Enter something..."},model:{value:t.uploadForm.data.desc,callback:function(e){t.$set(t.uploadForm.data,"desc",e)},expression:"uploadForm.data.desc"}})],1)],2),a("template",{slot:"footer"},[a("Button",{staticStyle:{"margin-right":"5px"},attrs:{type:"default"},on:{click:t.cancelModal}},[t._v("取消")]),a("Button",{attrs:{type:"primary"},on:{click:function(e){t.asyncOK("uploadForm")}}},[t._v("确定")])],1)],2)],1)},n=[],s=a("5176"),i=a.n(s),r=(a("7f7f"),a("bd86")),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h4",[t._v("选项")]),t._l(t.row.options,function(e,o){return"single"===t.row.type||"multiple"===t.row.type?a("p",[a("strong",[t._v(t._s(o+1))]),a("span",[t._v(" "+t._s(e))])]):t._e()}),"essay"===t.row.type?a("p",[t._v("\n    这题不是选择题，没有选项哦\n  ")]):t._e()],2)},u=[],d={props:{row:Object}},c=d,p=(a("6f20"),a("2877")),m=Object(p["a"])(c,l,u,!1,null,"4e9caa9b",null);m.options.__file="ExpandRow.vue";var f=m.exports,y={data:function(){var t;return{uploadModal:!1,uploadLoading:!0,questionsColumn:[{type:"expand",width:30,render:function(t,e){return t(f,{props:{row:e.row}})}},{title:"题目",slot:"name"},{title:"类型",key:"type"},{title:"描述",key:"desc"},{title:"Action",slot:"action",width:170,align:"center"}],questionsData:[{name:"John Brown",qid:1,type:"single",options:["dddd","sdfdsf","eeeeee"],desc:"New York No. 1 Lake Park"},{name:"Jim Green",qid:2,type:"multiple",options:["dddd2","sdfdsf2","eeeeee2"],desc:"New York No. 1 Lake Park"},{name:"Joe Black",qid:3,type:"essay",desc:"New York No. 1 Lake Park"},{name:"Jon Snow",qid:4,type:"essay",desc:"New York No. 1 Lake Park"}],uploadForm:{action:"create",data:{name:"",type:"",desc:"",index:1,items:[{value:"",index:1,status:1}]},rule:(t={name:[{required:!0,message:"题目不能为空",trigger:"blur"}]},Object(r["a"])(t,"name",[{required:!0,message:"类型不能为空",trigger:"blur"}]),Object(r["a"])(t,"desc",[{required:!0,message:"Please enter a personal introduction",trigger:"blur"},{type:"string",min:6,message:"Introduce no less than 6 words",trigger:"blur"}]),t)}}},components:{ExpandRow:f},methods:{show:function(t){this.$Modal.info({title:"User Info",content:"Name：".concat(this.questionsData[t].name,"<br>Description：").concat(this.questionsData[t].desc)})},remove:function(t){this.questionsData.splice(t,1)},edit:function(t){console.log(this.questionsData[t].type),this.uploadModal=!0,this.uploadForm.action="edit";var e="single"===this.questionsData[t].type||"multiple"===this.questionsData[t].type?this.questionsData[t].options.map(function(t,e){return{value:t,index:e+1,status:1}}):[];this.uploadForm.data=i()({},this.uploadForm.data,{name:this.questionsData[t].name,desc:this.questionsData[t].desc,type:this.questionsData[t].type,index:1,items:e}),this.uploadForm.curIndex=t},cancelModal:function(){this.uploadForm.data={name:"",type:"",desc:"",index:1,items:[{value:"",index:1,status:1}]},this.uploadModal=!1},handleAdd:function(){this.uploadForm.data.index++,this.uploadForm.data.items.push({value:"",index:this.uploadForm.data.index,status:1})},handleRemove:function(t){this.uploadForm.data.items[t].status=0},asyncOK:function(t){var e=this;this.$refs[t].validate(function(t){if(t){console.log(e.uploadForm.data);var a=e.uploadForm.data.items.map(function(t){return t.value}),o=e.questionsData.length+2,n=e.uploadForm.data,s=n.name,r=n.type,l=n.desc;"create"===e.uploadForm.action?"single"===r||"multiple"===r?e.questionsData.push({name:s,qid:o,type:r,options:a,desc:l}):"essay"===r&&e.questionsData.push({name:s,qid:o,type:r,desc:l}):"edit"===e.uploadForm.action&&(console.log("edit-form"),"single"===r||"multiple"===r?(console.log("edit-s-m"),e.questionsData.splice(e.uploadForm.curIndex,1,{name:s,qid:o,type:r,options:a,desc:l})):"essay"===r&&(console.log("edit-essay"),e.questionsData.splice(e.uploadForm.curIndex,1,{name:s,qid:o,type:r,desc:l}))),e.$Message.success("Success!"),e.uploadModal=!1,e.uploadForm.data=i()({},e.uploadForm.data,{name:"",desc:"",type:"",index:1,items:[{value:"",index:1,status:1}]})}else console.log("fail"),e.$Message.error("Fail!")})}}},v=y,h=(a("0a0f"),Object(p["a"])(v,o,n,!1,null,"94483d60",null));h.options.__file="QuestionBank.vue";e["default"]=h.exports}}]);
//# sourceMappingURL=question-bank.ac651bde.js.map